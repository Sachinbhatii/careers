<!DOCTYPE html>
<html>
<body>

<form id ="myForm" method = "POST">
  <div class="banner">
    <h1>Job Application Form</h1>
  </div>
  <div class="item">            
    <p>Name<span class="required">*</span></p>
    <div class="name-item">
      <input type="text" name="full_name" required/>
    </div>
  </div>
  <div class="contact-item">
    <div class="item">
      <p>Email<span class="required">*</span></p>
      <input type="email" name="email" required/>
    </div>
    <div class="item">
      <p>Phone<span class="required">*</span></p>
      <input type="number" name="phone_number" required/>
    </div>
  </div>
  <div class="item">
    <p>Description<span ></span></p>
      <input type="text" name="applicant_description" />
  </div>
  <div>
    <p>
      <button>Submit</button>
    </p>
    
  </div>
</form>
</body>
<script >
  const thisForm = document.getElementById('myForm');
  thisForm.addEventListener('submit', async function (e) {
      e.preventDefault();
      const formData = new FormData(thisForm).entries()
      const response = await fetch('http://127.0.0.1:8000/api/form/', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(Object.fromEntries(formData))
      });

      const result = await response.json();
      console.log(result)
  });
</script>
</html>
